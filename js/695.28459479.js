"use strict";(self["webpackChunkforum1231"]=self["webpackChunkforum1231"]||[]).push([[695],{9695:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container py-5"},[t("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.name,expression:"currentUser.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name",placeholder:"Enter Name",required:""},domProps:{value:e.currentUser.name},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"name",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"image"}},[e._v("Image")]),e.currentUser.image?t("img",{staticClass:"d-block img-thumbnail",attrs:{src:e.currentUser.image,width:"200px",height:"200px",alt:""}}):e._e(),t("input",{staticClass:"form-control-file",attrs:{id:"image",type:"file",name:"image",accept:"image/*"},on:{change:e.handleFileChange}})]),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")])])])},n=[],s=(r(7658),r(629)),i=r(6163),o=r(8390),u={name:"UserEdit",methods:{handleFileChange(e){if(console.log(e.target.files),0===e.target.length)this.currentUser.image="";else{const t=window.URL.createObjectURL(e.target.files[0]);this.currentUser.image=t}},async handleSubmit(e){try{if(!this.currentUser.name)return void i.F.fire({icon:"warning",title:"您尚未填寫姓名"});const t=e.target;console.log(e.target);const r=new FormData(t),a=await o.Z.upDate({userId:this.currentUser.id,formData:r});if("error"===a.data.status)throw new Error(a.data.message);this.$router.push({name:"user",params:{id:this.currentUser.id}})}catch(t){i.F.fire({icon:"error",title:"無法送出"})}}},computed:{...(0,s.rn)(["currentUser"])}},l=u,c=r(1001),m=(0,c.Z)(l,a,n,!1,null,null,null),g=m.exports}}]);
//# sourceMappingURL=695.28459479.js.map